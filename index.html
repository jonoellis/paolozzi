<!DOCTYPE html>
<html>
  <head>
    <title>Eduardo Paolozzi</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <h1>
      Sir Eduardo Paolozzi<br />
      on<br />
      Street View
    </h1>

    <div id="introduction">
      <p>
        Artist Sir Eduardo Paolozzi was a pioneer of pop art and one of
        Britain's greatest sculptors. Because of his importance, his works are
        frequently bought, sold, loaned, and - crucially - relocated. This page
        details the pieces on outdoor public display around the world, and shows
        them through the medium of Google Street View.
      </p>
      <p>
        If you know of an outdoor Paolozzi sculpture that's missing, here you
        can
        <a
          href="https://docs.google.com/forms/d/e/1FAIpQLSdxh2x_gk_yfr_lIe8XVMSCV0Ads-surfRFdFkycCnS3BLpZw/viewform?usp=sf_link"
          >submit it here</a
        >.
      </p>
    </div>

    <div id="paolozzi"></div>
    <script>
      fetch("paolozzi.json")
        .then((response) => response.json())
        .then((paolozziArray) => {
          let generatedHTML = "";
          paolozziArray.forEach((paolozzi, index) => {
            const iframeHTML = `
          <iframe
            width="1000"
            height="550"
            frameborder="0"
            style="border: 0"
            referrerpolicy="no-referrer-when-downgrade"
            src="https://www.google.com/maps/embed/v1/streetview?key=AIzaSyAokcS-ZPPZwfc4bP92n4T_6sOq26eHSjs&location=${paolozzi.coords}&heading=${paolozzi.heading}&pitch=${paolozzi.pitch}&fov=${paolozzi.fov}"
            allowfullscreen
          >
          </iframe>
        `;

            const divHTML = `
          <div class="streetview">
            <h2>${paolozzi.title} (${paolozzi.year})</h2>
            <div class="location">${paolozzi.location}</div>
            <div class="iframe-container" data-index="${index}">
              ${
                index === 0
                  ? iframeHTML
                  : '<div class="iframe-placeholder">Click to load</div>'
              }
            </div>
          </div>
        `;

            generatedHTML += divHTML;
          });

          document.getElementById("paolozzi").innerHTML = generatedHTML;

          const iframeContainers =
            document.querySelectorAll(".iframe-container");
          iframeContainers.forEach((container, index) => {
            if (index !== 0) {
              container.addEventListener("click", () => {
                const iframeHTML = `
              <iframe
                width="1000"
                height="550"
                frameborder="0"
                style="border: 0"
                referrerpolicy="no-referrer-when-downgrade"
                src="https://www.google.com/maps/embed/v1/streetview?key=AIzaSyAokcS-ZPPZwfc4bP92n4T_6sOq26eHSjs&location=${paolozziArray[index].coords}&heading=${paolozziArray[index].heading}&pitch=${paolozziArray[index].pitch}&fov=${paolozziArray[index].fov}"
                allowfullscreen
              >
              </iframe>
            `;
                container.innerHTML = iframeHTML;
              });
            }
          });
        })
        .catch((error) =>
          console.error("Error fetching the JSON file:", error)
        );
    </script>

    <div id="outro">
      <p>
        The spreadsheet of scultprures on Street View can be found here, and my
        ongoing research and scupltures visible on Google Earth can be found
        here. If you know of an outdoor Paolozzi sculpture that's missing here,
        you can
        <a
          href="https://docs.google.com/forms/d/e/1FAIpQLSdxh2x_gk_yfr_lIe8XVMSCV0Ads-surfRFdFkycCnS3BLpZw/viewform?usp=sf_link"
          >submit it here</a
        >.
      </p>
      <p>This is a project by <a href="https://ellis.scot">Jono Ellis</a>.</p>
    </div>
  </body>
</html>
